# ===========================================================================
# Tender & Event Monitor – MODALITÀ TEST
# ===========================================================================
# Configurazione minimale per verificare rapidamente il funzionamento
# della pipeline end-to-end. Riduce fonti, risultati e scope geografico
# per completare in circa 1-2 minuti.
#
# Lancio:
#   uv run monitor-bot --test --no-resume
#
# Cosa testa:
#   - Raccolta da TED (max 5, solo Italia) e 1 feed RSS
#   - 1 sola pagina web per WebEvents (AI Week)
#   - 1 sola query di ricerca web
#   - Classificazione con Gemini Flash
#   - Arricchimento date
#   - Filtro eventi scaduti
#   - Generazione report HTML
#
# NOTA: --no-resume è importante per evitare di caricare cache di
# run precedenti con scope più ampio.
# ===========================================================================

[gemini]
model = "gemini-2.5-flash"

[classification]
# Soglia più bassa per vedere più risultati nel test
relevance_threshold = 4

# ===========================================================================
# SCOPE – ridotto per test rapido
# ===========================================================================
[scope]
lookback_days = 3
max_results   = 5       # massimo 5 risultati per collector
cpv_codes     = ["72"]  # solo IT services
countries     = ["IT"]  # solo Italia

# ===========================================================================
# COLLECTORS – subset minimo
# ===========================================================================
[collectors]
ted         = true
anac        = false      # disabilitato (lento, non necessario per test)
events      = true
web_events  = true       # testa anche il crawling web (1 sola pagina)
web_tenders = false      # disabilitato per test rapido
web_search  = true       # testa la ricerca web (1 sola query)

# ===========================================================================
# FONTI EVENTI – minime per test
# ===========================================================================
[events]
feeds = [
    "https://www.forumpa.it/feed/",
]

# Una sola seed page per testare il crawling a due fasi
web_pages = [
    "https://www.aiweek.it/",
]

# ===========================================================================
# RICERCHE WEB – minime per test
# ===========================================================================
[web_search]
queries = [
    "bandi innovazione digitale Italia 2026",
]
max_results_per_query = 3    # pochi risultati per test rapido

# ===========================================================================
# PROFILO AZIENDA – sintetico per test
# ===========================================================================
[company]
profile = """
Siamo un'azienda IT medio-grande che opera in Italia e nell'area EMEA. \
Le nostre competenze principali sono: SAP, Data Engineering, AI/ML e \
Cloud Infrastructure (AWS, Azure, Google Cloud).
"""

[email]
from = ""
to   = ""
